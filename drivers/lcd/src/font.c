#include "font.h"
#include "hal_lcd.h"


LittleCharStruct LittleCharLib[]=
{
	/*--  文字:  0123456789 +-,.:/ *()ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz	--*/
	/*--  宋体9;  此字体下对应的点阵为：宽x高=8x15	 --*/
	/*--  高度不是8的倍数，现调整为：宽度x高度=8x16  --*/

'0',0x00,0x07,0x08,0x10,0x10,0x08,0x07,0x00,0x00,0xE0,0x10,0x08,0x08,0x10,0xE0,0x00,
'1',0x00,0x10,0x10,0x1F,0x10,0x10,0x00,0x00,0x00,0x10,0x10,0xF8,0x00,0x00,0x00,0x00,
'2',0x00,0x18,0x14,0x12,0x11,0x10,0x18,0x00,0x00,0x30,0x08,0x08,0x08,0x88,0x70,0x00,
'3',0x00,0x0C,0x10,0x10,0x10,0x11,0x0E,0x00,0x00,0x30,0x08,0x88,0x88,0x48,0x30,0x00,
'4',0x00,0x03,0x02,0x12,0x1F,0x12,0x12,0x00,0x00,0x80,0x40,0x20,0xF8,0x00,0x00,0x00,
'5',0x00,0x0C,0x10,0x10,0x10,0x10,0x0F,0x00,0x00,0xF8,0x88,0x48,0x48,0x48,0x88,0x00,
'6',0x00,0x0F,0x11,0x10,0x10,0x10,0x0F,0x00,0x00,0xE0,0x10,0x88,0x88,0x98,0x00,0x00,
'7',0x00,0x00,0x00,0x1F,0x00,0x00,0x00,0x00,0x00,0x38,0x08,0x08,0xC8,0x38,0x08,0x00,
'8',0x00,0x0E,0x11,0x10,0x10,0x11,0x0E,0x00,0x00,0x70,0x88,0x88,0x88,0x88,0x70,0x00,
'9',0x00,0x00,0x19,0x11,0x11,0x08,0x07,0x00,0x00,0xF0,0x08,0x08,0x08,0x90,0xE0,0x00,
' ',0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
'+',0x00,0x00,0x00,0x07,0x00,0x00,0x00,0x00,0x80,0x80,0x80,0xF0,0x80,0x80,0x80,0x00,
'-',0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x80,0x80,0x80,0x80,0x80,0x80,0x80,0x00,
',',0x40,0x58,0x38,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
'.',0x00,0x18,0x18,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
':',0x00,0x00,0x00,0x18,0x18,0x00,0x00,0x00,0x00,0x00,0x00,0xC0,0xC0,0x00,0x00,0x00,
'/',0x00,0x30,0x0C,0x03,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x80,0x60,0x1C,0x02,0x00,
'*',0x02,0x02,0x01,0x0F,0x01,0x02,0x02,0x00,0x40,0x40,0x80,0xF0,0x80,0x40,0x40,0x00,
'(',0x00,0x00,0x00,0x03,0x0C,0x10,0x20,0x00,0x00,0x00,0x00,0xE0,0x18,0x04,0x02,0x00,
')',0x00,0x20,0x10,0x0C,0x03,0x00,0x00,0x00,0x00,0x02,0x04,0x18,0xE0,0x00,0x00,0x00,
'A',0x10,0x1E,0x13,0x02,0x13,0x1E,0x10,0x00,0x00,0x00,0xE0,0x18,0xE0,0x00,0x00,0x00,
'B',0x10,0x1F,0x10,0x10,0x10,0x11,0x0E,0x00,0x08,0xF8,0x88,0x88,0x88,0x48,0x30,0x00,
'C',0x07,0x08,0x10,0x10,0x10,0x08,0x04,0x00,0xE0,0x10,0x08,0x08,0x08,0x08,0x38,0x00,
'D',0x10,0x1F,0x10,0x10,0x10,0x08,0x07,0x00,0x08,0xF8,0x08,0x08,0x08,0x10,0xE0,0x00,
'E',0x10,0x1F,0x10,0x10,0x13,0x10,0x08,0x00,0x08,0xF8,0x88,0x88,0xE8,0x08,0x10,0x00,
'F',0x10,0x1F,0x10,0x00,0x03,0x00,0x00,0x00,0x08,0xF8,0x88,0x88,0xE8,0x08,0x10,0x00,
'G',0x07,0x08,0x10,0x10,0x12,0x0E,0x02,0x00,0xE0,0x10,0x08,0x08,0x08,0x38,0x00,0x00,
'H',0x10,0x1F,0x10,0x00,0x10,0x1F,0x10,0x00,0x08,0xF8,0x88,0x80,0x88,0xF8,0x08,0x00,
'I',0x00,0x10,0x10,0x1F,0x10,0x10,0x00,0x00,0x00,0x08,0x08,0xF8,0x08,0x08,0x00,0x00,
'J',0x60,0x40,0x40,0x40,0x3F,0x00,0x00,0x00,0x00,0x00,0x08,0x08,0xF8,0x08,0x08,0x00,
'K',0x10,0x1F,0x10,0x01,0x16,0x18,0x10,0x00,0x08,0xF8,0x88,0xC0,0x28,0x18,0x08,0x00,
'L',0x10,0x1F,0x10,0x10,0x10,0x10,0x18,0x00,0x08,0xF8,0x08,0x00,0x00,0x00,0x00,0x00,
'M',0x10,0x1F,0x00,0x1F,0x00,0x1F,0x10,0x00,0x08,0xF8,0x78,0x80,0x78,0xF8,0x08,0x00,
'N',0x10,0x1F,0x10,0x01,0x0E,0x1F,0x00,0x00,0x08,0xF8,0x38,0xC0,0x08,0xF8,0x08,0x00,
'O',0x07,0x08,0x10,0x10,0x10,0x08,0x07,0x00,0xE0,0x10,0x08,0x08,0x08,0x10,0xE0,0x00,
'P',0x10,0x1F,0x10,0x00,0x00,0x00,0x00,0x00,0x08,0xF8,0x88,0x88,0x88,0x88,0x70,0x00,
'Q',0x07,0x08,0x14,0x14,0x18,0x28,0x27,0x00,0xE0,0x10,0x08,0x08,0x08,0x10,0xE0,0x00,
'R',0x10,0x1F,0x10,0x01,0x06,0x18,0x10,0x00,0x08,0xF8,0x88,0x88,0x88,0x70,0x00,0x00,
'S',0x00,0x1C,0x10,0x10,0x11,0x11,0x0E,0x00,0x00,0x70,0x88,0x88,0x08,0x08,0x38,0x00,
'T',0x00,0x00,0x10,0x1F,0x10,0x00,0x00,0x00,0x18,0x08,0x08,0xF8,0x08,0x08,0x18,0x00,
'U',0x00,0x0F,0x10,0x10,0x10,0x0F,0x00,0x00,0x08,0xF8,0x08,0x00,0x08,0xF8,0x08,0x00,
'V',0x00,0x00,0x07,0x18,0x07,0x00,0x00,0x00,0x08,0x78,0x88,0x00,0x88,0x78,0x08,0x00,
'W',0x00,0x01,0x1F,0x00,0x1F,0x01,0x00,0x00,0x08,0xF8,0x00,0xF8,0x00,0xF8,0x08,0x00,
'X',0x10,0x18,0x16,0x01,0x16,0x18,0x10,0x00,0x08,0x18,0x68,0x80,0x68,0x18,0x08,0x00,
'Y',0x00,0x00,0x10,0x1F,0x10,0x00,0x00,0x00,0x08,0x38,0xC8,0x00,0xC8,0x38,0x08,0x00,
'Z',0x00,0x10,0x1C,0x13,0x10,0x10,0x18,0x00,0x00,0x10,0x08,0x08,0xC8,0x38,0x08,0x00,
'a',0x00,0x0C,0x12,0x11,0x11,0x1F,0x10,0x00,0x00,0x80,0x40,0x40,0x40,0x80,0x00,0x00,
'b',0x00,0x1F,0x10,0x10,0x10,0x10,0x0F,0x00,0x08,0xF8,0x80,0x40,0x40,0x40,0x80,0x00,
'c',0x00,0x07,0x08,0x10,0x10,0x10,0x08,0x00,0x00,0x00,0x80,0x40,0x40,0x40,0x80,0x00,
'd',0x00,0x0F,0x10,0x10,0x10,0x08,0x1F,0x10,0x00,0x80,0x40,0x40,0x40,0x48,0xF8,0x00,
'e',0x00,0x0F,0x11,0x11,0x11,0x11,0x09,0x00,0x00,0x80,0x40,0x40,0x40,0x40,0x80,0x00,
'f',0x00,0x10,0x10,0x1F,0x10,0x10,0x00,0x00,0x00,0x40,0x40,0xF0,0x48,0x48,0x18,0x00,
'g',0x00,0x35,0x4A,0x4A,0x4A,0x49,0x30,0x00,0x00,0x80,0x40,0x40,0x40,0xC0,0x40,0x00,
'h',0x10,0x1F,0x10,0x00,0x00,0x10,0x1F,0x10,0x08,0xF8,0x80,0x40,0x40,0x40,0x80,0x00,
'i',0x00,0x10,0x10,0x1F,0x10,0x10,0x00,0x00,0x00,0x40,0x58,0xD8,0x00,0x00,0x00,0x00,
'j',0x00,0x60,0x40,0x40,0x40,0x3F,0x00,0x00,0x00,0x00,0x00,0x40,0x58,0xD8,0x00,0x00,
'k',0x10,0x1F,0x12,0x01,0x16,0x18,0x10,0x00,0x08,0xF8,0x00,0x00,0xC0,0x40,0x40,0x00,
'l',0x00,0x10,0x10,0x1F,0x10,0x10,0x00,0x00,0x00,0x08,0x08,0xF8,0x00,0x00,0x00,0x00,
'm',0x10,0x1F,0x00,0x1F,0x00,0x1F,0x10,0x00,0x40,0xC0,0x40,0xC0,0x40,0x80,0x00,0x00,
'n',0x10,0x1F,0x10,0x00,0x00,0x10,0x1F,0x10,0x40,0xC0,0x80,0x40,0x40,0x40,0x80,0x00,
'o',0x00,0x07,0x08,0x10,0x10,0x08,0x07,0x00,0x00,0x00,0x80,0x40,0x40,0x80,0x00,0x00,
'p',0x40,0x7F,0x50,0x10,0x10,0x10,0x0F,0x00,0x40,0xC0,0x80,0x40,0x40,0x40,0x80,0x00,
'q',0x00,0x0F,0x10,0x10,0x10,0x48,0x7F,0x40,0x00,0x80,0x40,0x40,0x40,0x40,0xC0,0x00,
'r',0x10,0x10,0x1F,0x10,0x10,0x00,0x00,0x00,0x40,0x40,0xC0,0x80,0x40,0x40,0xC0,0x00,
's',0x00,0x19,0x12,0x12,0x12,0x0C,0x00,0x00,0x00,0x80,0x40,0x40,0x40,0xC0,0x00,0x00,
't',0x00,0x00,0x00,0x0F,0x10,0x10,0x00,0x00,0x00,0x40,0x40,0xF0,0x40,0x40,0x00,0x00,
'u',0x00,0x0F,0x10,0x10,0x10,0x08,0x1F,0x10,0x40,0xC0,0x00,0x00,0x00,0x40,0xC0,0x00,
'v',0x00,0x00,0x07,0x18,0x04,0x03,0x00,0x00,0x40,0xC0,0x40,0x00,0x00,0x40,0xC0,0x40,
'w',0x00,0x03,0x1C,0x03,0x1C,0x03,0x00,0x00,0x40,0xC0,0x00,0xC0,0x00,0xC0,0x40,0x00,
'x',0x00,0x10,0x18,0x17,0x07,0x18,0x10,0x00,0x00,0x40,0xC0,0x00,0x40,0xC0,0x40,0x00,
'y',0x40,0x40,0x47,0x38,0x0C,0x03,0x00,0x00,0x40,0xC0,0x40,0x00,0x00,0x40,0xC0,0x40,
'z',0x00,0x10,0x18,0x16,0x11,0x10,0x18,0x00,0x00,0xC0,0x40,0x40,0x40,0xC0,0x40,0x00,
'~',0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x06,0x01,0x01,0x02,0x04,0x04,0x03,
'%',0x00,0x18,0x06,0x01,0x0E,0x11,0x0E,0x00,0x70,0x88,0x70,0x80,0x60,0x18,0x00,0x00,

0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,				// 结束标志
};



/***************************************************************************************************
 * @fn      dispCharacter
 *
 * @brief   液晶显示一个字符
 * @param   x,y -- 液晶坐标
 *			dispByte -- 要显示的数据
 * @return  null
 ***************************************************************************************************/ 

void dispCharacter(uint8_t x,uint8_t y,uint8_t dispByte)
{
	uint8_t i,j,k,m;
	uint8_t  s_cFlag;												// 字符找到标志
	uint8_t *pDispBuff;
	i = 0;
	m = 0;
	s_cFlag = 0;

	pDispBuff = &lcdTxBuff[y][x];
	do
	{
		if(LittleCharLib[i].Index[0] == dispByte)					// 扫描相符字符
		{
			s_cFlag = 1;
			for(j=0;j<2;j++)															// 写2页*8列数据
			{
				for(k=0;k<8;k++)
				{
					LCD_SetCursorAddr(x+k,y+j);
					LCD_WriteData(LittleCharLib[i].Mask[m]);
					*pDispBuff = LittleCharLib[i].Mask[m];
					m++;
					pDispBuff++;
				}
				pDispBuff = &lcdTxBuff[y+1][x];
			}
		}
		i++;
	}while( s_cFlag != 1 && LittleCharLib[i].Index[0] != 0xFF);		// 未找到字符或未扫描结束则继续
}


/***************************************************************************************************
 * @fn      dispCharStr
 *
 * @brief   液晶显示段连续字符
 * @param   x,y -- 液晶坐标
 *			pCharStr -- 要显示的字符串
 * @return  null
 ***************************************************************************************************/ 

void dispCharStr(unsigned char x,unsigned char y,unsigned char *pCharStr)
{
	while(*pCharStr)
	{
		dispCharacter(x,y,*pCharStr);
		x+=8;
		if(x>=(LCD_W-1))													// 写满自动跳转下一行
			{
				x = 0;
				y += 1;
			}
		pCharStr++;
	}
}

//////////////end of file/////////////////////////////////////////////////////
